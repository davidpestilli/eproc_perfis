<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - An√°lise de Acesso Analista Procuradoria</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Dashboard - Controle de Acesso Analista Procuradoria</h1>
            <p class="subtitle">An√°lise de Cen√°rios de Sigilo e Vincula√ß√£o Processual</p>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" data-tab="overview">Vis√£o Geral</button>
            <button class="tab-btn" data-tab="matrix">Matriz de Acesso</button>
            <button class="tab-btn" data-tab="scenarios">Cen√°rios Detalhados</button>
            <button class="tab-btn" data-tab="anomalies">Anomalias</button>
        </nav>

        <!-- Vis√£o Geral -->
        <div id="overview" class="tab-content active">
            <section class="card">
                <h2>Fatores de Influ√™ncia no Acesso</h2>
                <ul class="factors-list">
                    <li><span class="factor-icon">üîó</span> <strong>Vincula√ß√£o do Procurador:</strong> Acesso at√© sigilo 2</li>
                    <li><span class="factor-icon">üìã</span> <strong>Entidade na Capa:</strong> Acesso at√© sigilo 2 (sem intima√ß√£o)</li>
                    <li><span class="factor-icon">üëÅÔ∏è</span> <strong>Vista ao MP:</strong> Vincula√ß√£o parcial, acesso vari√°vel</li>
                    <li><span class="factor-icon">üîí</span> <strong>Sigilo 3+:</strong> Bloqueia todos os acessos</li>
                    <li><span class="factor-icon">üìç</span> <strong>Localidade/Rito:</strong> Secund√°rio se procurador vinculado</li>
                    <li><span class="factor-icon">üîë</span> <strong>Permiss√£o Expressa:</strong> Pode contornar restri√ß√µes</li>
                </ul>
            </section>
        </div>

        <!-- Matriz de Acesso -->
        <div id="matrix" class="tab-content">
            <section class="card">
                <h2>Matriz de Acesso Interativa</h2>
                <p class="matrix-description">Visualiza√ß√£o completa dos cen√°rios de acesso testados. Use os filtros para facilitar a an√°lise.</p>

                <div class="filter-controls">
                    <label>
                        <span class="filter-label">Filtrar por Sigilo:</span>
                        <select id="filter-sigilo">
                            <option value="all">Todos os N√≠veis</option>
                            <option value="0">Sigilo 0 (Sem Sigilo)</option>
                            <option value="1">Sigilo 1 (Segredo de Justi√ßa)</option>
                            <option value="2">Sigilo 2</option>
                            <option value="3+">Sigilo 3+</option>
                        </select>
                    </label>
                    <label>
                        <span class="filter-label">Filtrar por Resultado:</span>
                        <select id="filter-access">
                            <option value="all">Todos os Resultados</option>
                            <option value="SIM">‚úì Acesso Total</option>
                            <option value="PARCIALMENTE">‚óê Acesso Parcial</option>
                            <option value="N√ÉO">‚úó Acesso Negado</option>
                        </select>
                    </label>
                    <label>
                        <span class="filter-label">Filtrar por Vincula√ß√£o:</span>
                        <select id="filter-vinculacao">
                            <option value="all">Todas as Vincula√ß√µes</option>
                            <option value="SIM">Com Procurador</option>
                            <option value="PARCIALMENTE">Vista ao MP</option>
                            <option value="N√ÉO">Sem Vincula√ß√£o</option>
                        </select>
                    </label>
                </div>

                <div class="matrix-summary" id="matrix-summary">
                    <!-- Ser√° preenchido via JavaScript -->
                </div>

                <div class="table-wrapper">
                    <table id="access-matrix">
                        <thead>
                            <tr>
                                <th class="col-vinculacao">Procurador</th>
                                <th class="col-sigilo">Sigilo<br>Processo</th>
                                <th class="col-sigilo">Sigilo<br>Doc.</th>
                                <th class="col-resultado">Resultado</th>
                                <th class="col-observacoes">Observa√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="matrix-body">
                            <!-- Ser√° preenchido via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Cen√°rios Detalhados -->
        <div id="scenarios" class="tab-content">
            <section class="card">
                <h2>Cen√°rios por Categoria</h2>
                <div class="scenarios-accordion" id="scenarios-list">
                    <!-- Ser√° preenchido via JavaScript -->
                </div>
            </section>
        </div>

        <!-- Anomalias -->
        <div id="anomalies" class="tab-content">
            <section class="card alert-card">
                <h2>‚ö†Ô∏è Anomalias e Inconsist√™ncias Identificadas</h2>

                <div class="anomaly-item critical">
                    <h3>1. Poss√≠vel Erro de Sistema - Sigilo 2 com Entidade na Capa</h3>
                    <div class="anomaly-details">
                        <p><strong>Cen√°rio:</strong> Processo com sigilo 2 + Entidade na capa + Sem procurador atuante</p>
                        <p><strong>Comportamento Observado:</strong> Eventos s√£o listados e h√° acesso total</p>
                        <p><strong>Comportamento Esperado:</strong> Similar ao sigilo 1, onde eventos ficam restritos</p>
                        <p><strong>Classifica√ß√£o:</strong> <span class="badge critical">ERRO DE SISTEMA</span></p>
                        <p><strong>Impacto:</strong> Potencial exposi√ß√£o de informa√ß√µes sigilosas</p>
                    </div>
                </div>

                <div class="anomaly-item warning">
                    <h3>2. Contorno para Permiss√£o Expressa em Sigilo 0</h3>
                    <div class="anomaly-details">
                        <p><strong>Descri√ß√£o:</strong> Sistema n√£o permite concess√£o direta de permiss√£o expressa para sigilo 0</p>
                        <p><strong>Contorno Identificado:</strong></p>
                        <ol>
                            <li>Elevar n√≠vel de sigilo temporariamente</li>
                            <li>Conceder permiss√£o expressa para o sigilo elevado</li>
                            <li>Retornar sigilo para 0</li>
                            <li>Sistema mant√©m a permiss√£o anteriormente concedida</li>
                        </ol>
                        <p><strong>Classifica√ß√£o:</strong> <span class="badge warning">FALHA DE CONTROLE</span></p>
                        <p><strong>Impacto:</strong> Controle de seguran√ßa pode ser contornado</p>
                    </div>
                </div>

                <div class="anomaly-item info">
                    <h3>3. Inconsist√™ncia no Acesso via Bot√£o "√Årvore"</h3>
                    <div class="anomaly-details">
                        <p><strong>Cen√°rio:</strong> Processo sob segredo de justi√ßa (sigilo 1) com entidade na capa</p>
                        <p><strong>Observa√ß√£o:</strong> Eventos n√£o s√£o exibidos, mas o bot√£o "√Årvore" permite acesso aos documentos</p>
                        <p><strong>Classifica√ß√£o:</strong> <span class="badge info">COMPORTAMENTO INCONSISTENTE</span></p>
                        <p><strong>Impacto:</strong> Interface confusa, poss√≠vel bypass de controle de visibilidade</p>
                    </div>
                </div>
            </section>

            <section class="card">
                <h2>üìã Recomenda√ß√µes</h2>
                <div class="recommendations">
                    <h3>Corre√ß√µes Necess√°rias</h3>
                    <ul>
                        <li>Investigar comportamento an√¥malo do sigilo 2 com entidade na capa</li>
                        <li>Revisar mecanismo de concess√£o de permiss√£o expressa para sigilo 0</li>
                        <li>Padronizar comportamento entre sigilos 1 e 2 quando h√° entidade na capa</li>
                    </ul>

                    <h3>Melhorias de Seguran√ßa</h3>
                    <ul>
                        <li>Implementar logs de auditoria para acessos com permiss√£o expressa</li>
                        <li>Criar alertas para tentativas de contorno de restri√ß√µes de sigilo</li>
                        <li>Revisar pol√≠tica de acesso via "bot√£o √Årvore" em processos com sigilo 1</li>
                    </ul>
                </div>
            </section>
        </div>

        <footer>
            <p>Dashboard - An√°lise de Controle de Acesso Analista Procuradoria</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>